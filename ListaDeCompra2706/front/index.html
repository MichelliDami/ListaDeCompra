<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <script src="./web.js"></script>

</head>

<body>
    <div class="container-fluid">
        <div class="card mt-2">
            <div class="card-header d-flex">
                <h5>Lista de Compras</h5>
                <button class="btn btn-primary ms-auto" data-bs-toggle="modal" data-bs-target="#modal-inserir-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-plus-lg" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
                    </svg>
                    Adicionar</button>
            </div>
            <div class="card-body">
                <table class="table align-items-center mb-0">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">Nome</th>
                            <th scope="col" class="text-center">Categoria</th>
                            <th scope="col" class="text-center">Quantidade</th>
                            <th scope="col" class="text-center">Prioridade</th>
                            <th scope="col" class="text-center">Deletar</th>
                        </tr>
                    </thead>
                    <tbody id="data-server">
                        <!-- <tr>
                            <th scope="row">
                                Detergente
                            </th>
                            <td class="text-center">Limpeza</td>
                            <td class="text-center">10</td>
                            <td class="text-center">
                                <span class="badge badge-success w-100">Baixa</span>
                            </td>
                            <td class="text-center">
                                <button class="btn btn-danger px-2 py-1 btn-sm" onclick="deletar('5a52cd32-0dd0-4eda-97d3-10d90f8a156b')"> 
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                        fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
                                        <path
                                            d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                Bicicleta
                            </th>
                            <td class="text-center">Lazer</td>
                            <td class="text-center">03</td>
                            <td class="text-center">
                                <span class="badge badge-danger w-100">Alta</span>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                Feijão
                            </th>
                            <td class="text-center">Alimento</td>
                            <td class="text-center">05</td>
                            <td class="text-center">
                                <span class="badge badge-warning w-100">Média</span>
                            </td>
                        </tr> -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Cadastro -->
    <div class="modal fade" id="modal-inserir-item" tabindex="-1" aria-labelledby="modal-inserir-itemLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modal-inserir-itemLabel">Adicionar Item</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-inserir" class="row g-3 needs-validation" novalidate>
                        <div class="col-md-12">
                            <label for="nome" class="form-label">Nome</label>
                            <input type="text" class="form-control" id="nome" placeholder="Ex: Detergente..." required>
                            <div class="valid-feedback">
                                Muito bom!
                            </div>
                        </div>
                        <div class="col-md-12">
                            <label for="categoria" class="form-label">Categoria</label>
                            <select class="form-select" id="categoria" required>
                                <option selected disabled value="">Selecione</option>
                                <option value="lazer">Lazer</option>
                                <option value="limpeza">Limpeza</option>
                                <option value="comida">Comida</option>
                                <option value="outros">Outra...</option>
                            </select>
                            <div class="invalid-feedback">
                                Compo obrigatório, selecione um item.
                            </div>
                        </div>
                        <div class="col-md-12">
                            <label for="quantidade" class="form-label">Quantidade</label>
                            <input type="number" class="form-control" id="quantidade" placeholder="Ex: 01..." required>
                            <div class="valid-feedback">
                                Muito bom!
                            </div>
                        </div>
                        <div class="col-md-12">
                            <label for="prioridade" class="form-label">Prioridade</label>
                            <select class="form-select" id="prioridade" required>
                                <option selected disabled value="">Selecione</option>
                                <option value="1">Baixa</option>
                                <option value="2">Média</option>
                                <option value="3">Alta</option>
                            </select>
                            <div class="invalid-feedback">
                                Compo obrigatório, selecione um item.
                            </div>
                        </div>
                        <div class="col-12 mt-4">
                            <button class="btn btn-primary w-100" type="submit">Adicionar Item</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(() => {

            (() => {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                const forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.from(forms).forEach(form => {
                    form.addEventListener('submit', event => {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })
            })()


            const modalInserirItem = document.getElementById('modal-inserir-item');
            const formsInserir = document.getElementById('forms-inserir');

            // Adiciona o evento quando o modal for fechado (Bootstrap 5)
            // modalInserirItem.addEventListener('hidden.bs.modal', () => {
            // // Remove as classes de validação do formulário
            // formsInserir.classList.remove('was-validated');

            //     // Reseta o formulário (limpa os campos)
            //     formsInserir.reset();
            // });

        })
    </script>
</body>

</html>